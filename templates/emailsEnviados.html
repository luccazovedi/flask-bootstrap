{% extends "base.html" %}

{% block page_content %}
<div class="container py-4">
    <h1 class="mb-4">E-mails enviados</h1>
    <p>Relação de e-mails enviados para o administrador do sistema, notificando o cadastro de novos usuários</p>

    {% if emails %}
    <table class="table table-striped table-bordered align-middle">
        <thead class="table-dark">
            <tr>
                <th>De</th>
                <th>Para</th>
                <th>Assunto</th>
                <th>Texto</th>
                <th>Data/Hora</th>
            </tr>
        </thead>
        <tbody>
            {% for e in emails %}
            <tr>
                <td>{{ e.de }}</td>
                <td>{{ e.para }}</td>
                <td>{{ e.assunto }}</td>
                <td>{{ e.texto }}</td>
                <td>{{ e.data_hora }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="alert alert-info" role="alert">
        Nenhum e-mail registrado até o momento.
    </div>
    {% endif %}

    <div class="mt-3">
        <a href="{{ url_for('cadastro') }}" class="btn btn-secondary">← Voltar ao Cadastro</a>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const table = document.querySelector('table');
    if (table) {
        table.style.opacity = 0;
        setTimeout(() => {
            table.style.transition = 'opacity 0.5s';
            table.style.opacity = 1;
        }, 100);
    }
});
</script>
{% endblock %}